
PRIMARY KEY (CODCONSTITUYENTE)
) ENGINE InnoDB;

CREATE TABLE EMPRESA_TRANSPORTE (
CODTRANSPORTE INT,
NOMBRE VARCHAR (50) NOT NULL,
DIRECTOR VARCHAR (30) NOT NULL,
PRIMARY KEY (CODTRANSPORTE)
) ENGINE InnoDB;

CREATE TABLE LUGAR_SEGURO (
CODSEGURO INT,
TRATAMIENTOS VARCHAR (50) NOT NULL,
DIRECTOR VARCHAR (30) NOT NULL,
CODCIUDAD INT,
PRIMARY KEY (CODSEGURO),
FOREIGN KEY (CODCIUDAD) REFERENCES CIUDAD (CODCIUDAD)
) ENGINE InnoDB;

CREATE TABLE CIUDAD (
CODCIUDAD INT,
UBICACION VARCHAR (50) NOT NULL,
FOTO VARCHAR (30) NOT NULL,
CADMINISTRACION VARCHAR(50),
PRIMARY KEY (CODCIUDAD)
) ENGINE InnoDB

CREATE TABLE RESIDUO (
CODRESIDUO INT,
CODPRODUCTOR INT,
ENVASE INT NOT NULL,
CODCONSTITUYENTE INT,
PRIMARY KEY (CODPRODUCTOR, CODRESIDUO),
FOREIGN KEY (CODPRODUCTOR) REFERENCES PRODUCTORES  (CODPRODUCTOR),
FOREIGN KEY (CODCONSTITUYENTE) REFERENCES CONSTITUYENTES  (CODCONSTITUYENTE),
CONSTRAINT ENVASE UNIQUE (ENVASE)
) ENGINE InnoDB;


CREATE TABLE TRASLADO(
CODTRASLADO INT,
CODPRODUCTOR INT,
CODRESIDUO INT,
CODCONSTITUYENTE INT,
CODTRANSPORTE INT,
CODSEGURO INT,
PARTE_DE_RESIDUO INT NOT NULL,
PRIMARY KEY (CODTRASLADO),
FOREIGN KEY (CODPRODUCTOR, CODRESIDUO) REFERENCES RESIDUO (CODPRODUCTOR, CODRESIDUO),
FOREIGN KEY (CODTRANSPORTE) REFERENCES EMPRESA_TRANSPORTE(CODTRANSPORTE),
FOREIGN KEY (CODSEGURO) REFERENCES LUGAR_SEGURO (CODSEGURO)
) ENGINE InnoDB;
